================================================================================
Unified-HIARN 實驗報告 - REST16 Dataset
================================================================================

生成時間: 2025-11-24 17:38:33

--------------------------------------------------------------------------------
模型架構: Unified-HIARN (Method 4)
--------------------------------------------------------------------------------
  核心創新: 統一 Hierarchical BERT 和 IARN，根據 aspect 數量動態融合

  架構設計:
    1. Hierarchical Feature Extraction (共享)
       - Low (layers 1-4): 詞彙特徵
       - Mid (layers 5-8): 語義特徵
       - High (layers 9-12): 任務特徵

    2. Branch A: Hierarchical Features (純階層特徵)
    3. Branch B: IARN Features (Aspect-to-Aspect Attention)

    4. Adaptive Fusion Gate:
       - 單 aspect (n=1): gate=1.0, 100% Hierarchical
       - 多 aspect (n>=2): gate=learned, 動態融合

  融合公式:
    fused = gate × hierarchical + (1-gate) × iarn

--------------------------------------------------------------------------------
實驗配置
--------------------------------------------------------------------------------
  Epochs:        None
  Patience:      None
  Learning Rate: 2e-5
  BERT Model:    BERT-base-uncased
  Optimizer:     AdamW
  Scheduler:     Cosine Annealing with Warmup (10%)
  Loss Type:     Focal Loss
  Focal Gamma:   None
  Class Weights: None
  Dropout:       0.35

--------------------------------------------------------------------------------
實驗結果 (Main Results)
--------------------------------------------------------------------------------
  Accuracy:     86.41%
  Macro-F1:     72.87%
  Best Epoch:   17 / None

--------------------------------------------------------------------------------
Per-class F1 Analysis
--------------------------------------------------------------------------------
  Negative F1:  78.61%
  Neutral F1:   48.08%
  Positive F1:  91.91%

--------------------------------------------------------------------------------
融合機制分析 (Adaptive Fusion)
--------------------------------------------------------------------------------
  [INFO] 融合指標未記錄 (需更新訓練腳本)

--------------------------------------------------------------------------------
與 Baseline 對比
--------------------------------------------------------------------------------
Model                             Acc (%)   Macro-F1 (%)
--------------------------------------------------------------------------------
>>> Unified-HIARN (Method 4)        86.41          72.87
    Baseline (BERT-CLS)             85.85          69.86
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
改進分析 (vs Baseline)
--------------------------------------------------------------------------------
  Accuracy 提升:  +0.56%
  Macro-F1 提升:  +3.01% (+4.30% relative)
  Negative F1:    -0.20%
  Neutral F1:     +8.82%
  Positive F1:    +0.40%

  >>> Unified-HIARN 優於 Baseline (+3.01% Macro-F1)

--------------------------------------------------------------------------------
實驗目錄
--------------------------------------------------------------------------------
  Unified-HIARN: 20251124_173145_improved_unified_hiarn_drop0.35_bs32x1_focal

--------------------------------------------------------------------------------
結論
--------------------------------------------------------------------------------

Unified-HIARN 的設計目標:
  1. 統一模型: 無需針對不同數據集選擇不同模型
  2. 自適應融合: 根據樣本的 aspect 數量動態調整策略
  3. 保持優勢: 單 aspect 場景保持 Hierarchical 的優勢
              多 aspect 場景獲得 IARN 的交互能力

================================================================================