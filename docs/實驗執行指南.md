# å¯¦é©—åŸ·è¡ŒæŒ‡å—

## æ•¸æ“šå¢å¼·ï¼ˆEDAï¼‰ğŸ”¥

è¨“ç·´å‰å…ˆç”Ÿæˆå¢å¼·æ•¸æ“šï¼š

```bash
# Restaurants æ•¸æ“šé›†ï¼ˆ+83.6%ï¼‰
python data/augment_multiaspect.py --dataset restaurants --num_aug 2 --alpha 0.15 --output_dir data/augmented_restaurants

# Laptops æ•¸æ“šé›†ï¼ˆé è¨ˆ +~80%ï¼‰
python data/augment_multiaspect.py --dataset laptops --num_aug 2 --alpha 0.15 --output_dir data/augmented_laptops
```

**åƒæ•¸èªªæ˜**ï¼š
- `--dataset`: æ•¸æ“šé›†é¸æ“‡ (restaurants æˆ– laptops)
- `--num_aug`: æ¯æ¨£æœ¬ç”Ÿæˆæ•¸é‡ï¼ˆ2 = æ¯æ¨£æœ¬å¢å¼· 2 æ¬¡ï¼‰
- `--alpha`: EDA å¼·åº¦ï¼ˆ0.15 = 15% å–®è©æœƒè¢«ä¿®æ”¹ï¼‰
- `--output_dir`: è¼¸å‡ºç›®éŒ„

## å¿«é€Ÿé–‹å§‹

**æ‰€æœ‰å‘½ä»¤éƒ½å¿…é ˆæŒ‡å®š `--dataset <restaurants|laptops>` åƒæ•¸**

### æ–¹æ³• 1: å–®é…ç½®æª”

```bash
# åŸ·è¡Œå®Œæ•´æ¨¡å‹ï¼ˆEDA å¢å¼·æ•¸æ“šï¼‰ğŸ”¥ æ¨è–¦
python experiments/train_from_config.py --config configs/full_model_augmented.yaml --dataset <DATASET>

# åŸ·è¡Œå®Œæ•´æ¨¡å‹ï¼ˆåŸå§‹æ•¸æ“šï¼Œä¸å¢å¼·ï¼‰
python experiments/train_from_config.py --config configs/full_model_optimized.yaml --dataset <DATASET>

# åŸ·è¡Œ BERT Only baseline
python experiments/train_from_config.py --config configs/baseline_bert_only.yaml --dataset <DATASET>

# åŸ·è¡Œ PMAC Onlyï¼ˆæ¶ˆèå¯¦é©—ï¼‰
python experiments/train_from_config.py --config configs/pmac_only.yaml --dataset <DATASET>
```

### æ–¹æ³• 2: æ‰¹æ¬¡å¤šé…ç½®æª”

**âš ï¸ æ³¨æ„ï¼šæ‰€æœ‰æ‰¹æ¬¡å‘½ä»¤éƒ½éœ€è¦æŒ‡å®š `--dataset` åƒæ•¸**

```bash
# åŸ·è¡Œæ‰€æœ‰ baselineï¼ˆBERT Only, BERT+AAHA, BERT+Meanï¼‰ä¸¦è‡ªå‹•ç”Ÿæˆå ±å‘Š
python run_experiments.py --baselines --dataset restaurants
python run_experiments.py --baselines --dataset laptops

# åŸ·è¡Œæ‰€æœ‰å¯¦é©—ï¼ˆå«è‡ªå‹•ç”Ÿæˆå ±å‘Šï¼‰
python run_experiments.py --all --dataset restaurants
python run_experiments.py --all --dataset laptops

# åªåŸ·è¡Œå®Œæ•´æ¨¡å‹
python run_experiments.py --full --dataset restaurants
python run_experiments.py --full --dataset laptops

# åŸ·è¡Œæ¶ˆèå¯¦é©—
python run_experiments.py --ablation --dataset restaurants
python run_experiments.py --ablation --dataset laptops

# åªç”Ÿæˆ baseline æ¯”è¼ƒå ±å‘Šï¼ˆä¸åŸ·è¡Œè¨“ç·´ï¼‰
python run_experiments.py --report --dataset restaurants
python run_experiments.py --report --dataset laptops
```

## é…ç½®æ–‡ä»¶èªªæ˜

### å·²å‰µå»ºçš„é…ç½®

1. **`configs/full_model_augmented.yaml`** ğŸ”¥ - å®Œæ•´æ¨¡å‹ï¼ˆä½¿ç”¨ EDA å¢å¼·æ•¸æ“šï¼‰
2. **`configs/baseline_bert_only.yaml`** - BERT Only baseline
3. **`configs/baseline_bert_aaha.yaml`** - BERT + AAHA baseline
4. **`configs/baseline_bert_mean.yaml`** - BERT + Mean Pooling baseline
5. **`configs/full_model_optimized.yaml`** - å®Œæ•´æ¨¡å‹ï¼ˆåŸå§‹æ•¸æ“šï¼Œgate_bias_init=-1.0ï¼‰
6. **`configs/pmac_only.yaml`** - åªä½¿ç”¨ PMACï¼ˆä¸ç”¨ IARMï¼‰


## å¯¦é©—çµæœä½ç½®

- **å®Œæ•´æ¨¡å‹**: `results/experiments/YYYYMMDD_HHMMSS_pmac_iarm_*/`
- **Baseline**: `results/baseline/YYYYMMDD_HHMMSS_baseline_*/`

æ¯å€‹å¯¦é©—ç›®éŒ„åŒ…å«:
- `checkpoints/` - æ¨¡å‹æª¢æŸ¥é»
- `visualizations/` - è¨“ç·´æ›²ç·šå’Œ gate åˆ†æ
- `reports/` - å¯¦é©—å ±å‘Šå’Œé…ç½®

## çµ±ä¸€é…ç½®åƒæ•¸

æ‰€æœ‰ baseline ä½¿ç”¨ç›¸åŒè¨“ç·´é…ç½®ï¼ˆç¢ºä¿å…¬å¹³æ¯”è¼ƒï¼‰ï¼š

| åƒæ•¸ | å€¼ | èªªæ˜ |
|------|----|----|
| `epochs` | 30 | è¨“ç·´è¼ªæ•¸ |
| `lr` | 2e-5 | å­¸ç¿’ç‡ |
| `dropout` | 0.3 | Dropout æ¯”ç‡ |
| `loss_type` | focal | Focal Loss |
| `focal_gamma` | 2.5 | Focal Loss gamma åƒæ•¸ |
| `class_weights` | [1.0, 5.0, 1.0] | é¡åˆ¥æ¬Šé‡ [Neg, Neu, Pos] |
| `patience` | 10 | Early stopping patience |

å„ baseline çš„å·®ç•°åƒ…åœ¨ `batch_size`ï¼šBERT Only/Mean ç”¨ 32ï¼ŒBERT+AAHA ç”¨ 24

## ç”Ÿæˆ Baseline å ±å‘Š

**æ³¨æ„**ï¼šä½¿ç”¨ `python run_experiments.py --baselines` æœƒè‡ªå‹•ç”Ÿæˆå ±å‘Šï¼Œç„¡éœ€æ‰‹å‹•åŸ·è¡Œã€‚

å¦‚æœåªéœ€è¦é‡æ–°ç”Ÿæˆå ±å‘Šï¼ˆä¸åŸ·è¡Œè¨“ç·´ï¼‰:

```bash
# æ–¹æ³• 1: ä½¿ç”¨æ‰¹æ¬¡è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
python run_experiments.py --report

# æ–¹æ³• 2: ç›´æ¥èª¿ç”¨å ±å‘Šç”Ÿæˆè…³æœ¬
python experiments/generate_baseline_report.py
```

å ±å‘Šä½ç½®: `results/baseline_comparison/baseline_comparison_*.md`

å ±å‘ŠåŒ…å«æŒ‡æ¨™ï¼šTest Acc, Test F1, Negative F1, Neutral F1, Positive F1, Best Epoch

## ğŸ“ å¯¦é©—çµæœè¨˜éŒ„

### è‡ªå‹•ç”Ÿæˆå°æ¯”è¡¨æ ¼ â­

**ä¸€éµç”ŸæˆåŒ…å«æ‰€æœ‰å¯¦é©—ï¼ˆå« baselineï¼‰çš„å°æ¯”è¡¨æ ¼ï¼š**

```bash
# è¨˜éŒ„æ‰€æœ‰å¯¦é©—ï¼ˆåŒ…æ‹¬ baselineï¼‰
python experiments/record_experiment_table.py

# åªè¨˜éŒ„å®Œæ•´æ¨¡å‹å¯¦é©—
python experiments/record_experiment_table.py --only-full

# åªè¨˜éŒ„ baseline
python experiments/record_experiment_table.py --only-baseline

# æŒ‡å®šè¼¸å‡ºæª”æ¡ˆï¼ˆé è¨­ç‚º results/å¯¦é©—çµæœå ±å‘Š.mdï¼‰
python experiments/record_experiment_table.py --output results/MY_RESULTS.md
```

### æ¨è–¦å·¥ä½œæµç¨‹

**å®šæœŸæ¸…ç†å‰ï¼ˆæˆ–è«–æ–‡æ’°å¯«æ™‚ï¼‰ï¼š**
```bash
# ä¸€éµç”ŸæˆåŒ…å«æ‰€æœ‰å¯¦é©—çš„å°æ¯”è¡¨æ ¼
python experiments/record_experiment_table.py

# è¼¸å‡º: results/å¯¦é©—çµæœå ±å‘Š.md (å¯ç›´æ¥ç”¨æ–¼è«–æ–‡)
```